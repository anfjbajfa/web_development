import{_ as C,h as c,M as z,S as V,r,o as L,c as U,d as e,b as g,g as j,e as s,F as B,$ as F,n as I,f as i,t as v}from"./index-d9bb89e8.js";const M={class:"order-page"},P={class:"main"},k={class:"filters"},A={__name:"OrderDataset",setup(E){const _=c("orderID"),d=c(""),u=c(""),p=c(1),m=c(10),b=c([]),h=async()=>{try{const t=await F();b.value=t,console.log(t)}catch(t){console.log("获取全部订单失败",t)}};z(()=>{h()});const f=V(()=>b.value.length);console.log(f);const y=V(()=>{let t=b.value;return d.value&&(t=t.filter(l=>{var n;return(n=l[_.value])==null?void 0:n.toString().toLowerCase().includes(d.value.toLowerCase())})),u.value&&(t=t.filter(l=>l.status===u.value)),t.slice((p.value-1)*m.value,p.value*m.value)}),N=t=>{switch(t){case"pending":return"danger";case"processing":return"warning";case"complete":return"success";case"cancelled":return"info";default:return"warning"}};return(t,l)=>{const n=r("el-option"),w=r("el-select"),S=r("el-input"),o=r("el-table-column"),O=r("el-tag"),x=r("el-button"),D=r("el-table"),T=r("el-pagination");return L(),U(B,null,[e(I),g("div",M,[l[4]||(l[4]=j('<aside class="sidebar" data-v-795cb8a6><ul class="menu" data-v-795cb8a6><li class="menu-item active" data-v-795cb8a6>订单</li></ul><div class="sidebar-profile" data-v-795cb8a6><div class="avatar" data-v-795cb8a6></div><div data-v-795cb8a6><p data-v-795cb8a6>admin</p><p data-v-795cb8a6>1111111111</p></div></div></aside>',1)),g("main",P,[g("div",k,[e(w,{modelValue:_.value,"onUpdate:modelValue":l[0]||(l[0]=a=>_.value=a),placeholder:"搜索字段",class:"filter-select"},{default:s(()=>[e(n,{label:"Project Name",value:"projectName"})]),_:1},8,["modelValue"]),e(S,{modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=a=>d.value=a),placeholder:"请输入搜索关键词",class:"filter-input"},null,8,["modelValue"]),e(w,{modelValue:u.value,"onUpdate:modelValue":l[2]||(l[2]=a=>u.value=a),placeholder:"选择状态",class:"filter-select"},{default:s(()=>[e(n,{label:"pending",value:"pending"}),e(n,{label:"processing",value:"processing"}),e(n,{label:"completed",value:"completed"}),e(n,{label:"canceled",value:"canceled"})]),_:1},8,["modelValue"])]),e(D,{data:y.value,border:"",stripe:"",class:"order-table"},{default:s(()=>[e(o,{prop:"id",label:"账单号",width:"120"}),e(o,{prop:"gender",label:"尊称",width:"100"},{default:s(({row:a})=>[i(v(a.gender===t.M?"先生":"女士"),1)]),_:1}),e(o,{prop:"fullName",label:"客户姓名",width:"150"}),e(o,{prop:"phone",label:"客户电话",width:"120"}),e(o,{prop:"status",label:"订单状态",width:"120"},{default:s(({row:a})=>[e(O,{type:N(a.status),size:"small"},{default:s(()=>[i(v(a.status),1)]),_:2},1032,["type"])]),_:1}),e(o,{prop:"email",label:"邮件"}),e(o,{prop:"product",label:"服务需求"}),e(o,{prop:"projectName",label:"项目名称"}),e(o,{prop:"createTime",label:"创建时间"},{default:s(({row:a})=>[i(v(new Date(a.createTime).toLocaleString()),1)]),_:1}),e(o,{prop:"updateTime",label:"更新时间"},{default:s(({row:a})=>[i(v(new Date(a.updateTime).toLocaleString()),1)]),_:1}),e(o,{label:"ACTIONS"},{default:s(()=>[e(x,{icon:"el-icon-edit",type:"text"})]),_:1})]),_:1},8,["data"]),e(T,{"current-page":p.value,"onUpdate:currentPage":l[3]||(l[3]=a=>p.value=a),"page-size":m.value,total:f.value,layout:"prev, pager, next",class:"pagination"},null,8,["current-page","page-size","total"])])])],64)}}},R=C(A,[["__scopeId","data-v-795cb8a6"]]);export{R as default};
