import{A as C,ag as Ir,ah as Mr,ai as Pr,aj as Nr,ak as Tr,al as Ur,am as Br,an as Dr,ao as Gr,ap as Hr,aq as _r,ar as Jr}from"./index-c6cfe049.js";var ye,Ae,xe={exports:{}};Ae=function(){function t(c,g){function v(){this.constructor=c}v.prototype=g.prototype,c.prototype=new v}function o(c,g,v,r){var A=Error.call(this,c);return Object.setPrototypeOf&&Object.setPrototypeOf(A,o.prototype),A.expected=g,A.found=v,A.location=r,A.name="SyntaxError",A}function f(c,g,v){return v=v||" ",c.length>g?c:(g-=c.length,c+(v+=v.repeat(g)).slice(0,g))}function F(c,g){var v,r={},A=(g=g!==void 0?g:{}).grammarSource,j={start:ve},I=ve,M="none",P=")",p=",",d="(",q="%",w="px",W="cm",X="mm",Y="in",Z="pt",ee="pc",re="deg",ne="rad",te="grad",ae="turn",Ce="#",Fe=".",Ee="e",ue=/^[ \t\n\r]/,ce=/^[a-z\-]/,oe=/^[0-9a-fA-F]/,ie=/^[+\-]/,z=/^[0-9]/,$e=S("none"),je=x("none",!1),qe=x(")",!1),se=x(",",!1),Oe=S("whitespace"),le=T([" ","	",`
`,"\r"],!1,!1),ke=S("function"),Se=x("(",!1),ze=S("identifier"),fe=T([["a","z"],"-"],!1,!1),Re=S("percentage"),Ie=x("%",!1),Me=S("length"),Pe=x("px",!1),Ne=x("cm",!1),Te=x("mm",!1),Ue=x("in",!1),Be=x("pt",!1),De=x("pc",!1),Ge=S("angle"),He=x("deg",!1),_e=x("rad",!1),Je=x("grad",!1),Ke=x("turn",!1),Le=S("number"),Qe=S("color"),Ve=x("#",!1),pe=T([["0","9"],["a","f"],["A","F"]],!1,!1),he=T(["+","-"],!1,!1),R=T([["0","9"]],!1,!1),We=x(".",!1),Xe=x("e",!1),Ye=function(){return[]},Ze=function(e,a){return{type:"function",name:e,parameters:a||[]}},er=function(e,a){return a.length>0?Rr(e,a,3):[e]},rr=function(e){return{type:"quantity",value:e.value,unit:e.unit}},nr=function(e){return{type:"color",colorType:e.type,value:e.value}},tr=function(e){return e},ar=function(){return D()},ur=function(e){return{value:e,unit:"%"}},cr=function(e){return{value:e,unit:"px"}},or=function(e){return{value:e,unit:"cm"}},ir=function(e){return{value:e,unit:"mm"}},sr=function(e){return{value:e,unit:"in"}},lr=function(e){return{value:e,unit:"pt"}},fr=function(e){return{value:e,unit:"pc"}},pr=function(e){return{value:e,unit:"deg"}},hr=function(e){return{value:e,unit:"rad"}},mr=function(e){return{value:e,unit:"grad"}},gr=function(e){return{value:e,unit:"turn"}},vr=function(e){return{value:e,unit:null}},dr=function(){return{type:"hex",value:D()}},yr=function(e){return{type:"function",value:e}},Ar=function(){return{type:"named",value:D()}},wr=function(){return parseFloat(D())},n=0,h=0,B=[{line:1,column:1}],k=0,_=[],i=0;if("startRule"in g){if(!(g.startRule in j))throw new Error(`Can't start parsing from rule "`+g.startRule+'".');I=j[g.startRule]}function D(){return c.substring(h,n)}function x(e,a){return{type:"literal",text:e,ignoreCase:a}}function T(e,a,u){return{type:"class",parts:e,inverted:a,ignoreCase:u}}function xr(){return{type:"end"}}function S(e){return{type:"other",description:e}}function me(e){var a,u=B[e];if(u)return u;for(a=e-1;!B[a];)a--;for(u={line:(u=B[a]).line,column:u.column};a<e;)c.charCodeAt(a)===10?(u.line++,u.column=1):u.column++,a++;return B[e]=u,u}function ge(e,a,u){var l=me(e),y=me(a);return{source:A,start:{offset:e,line:l.line,column:l.column},end:{offset:a,line:y.line,column:y.column}}}function s(e){n<k||(n>k&&(k=n,_=[]),_.push(e))}function br(e,a,u){return new o(o.buildMessage(e,a),e,a,u)}function ve(){var e;return(e=Cr())===r&&(e=Fr()),e}function Cr(){var e,a;return i++,e=n,b(),c.substr(n,4)===M?(a=M,n+=4):(a=r,i===0&&s(je)),a!==r?(b(),h=e,e=Ye()):(n=e,e=r),i--,e===r&&i===0&&s($e),e}function Fr(){var e,a;if(e=[],(a=J())!==r)for(;a!==r;)e.push(a),a=J();else e=r;return e}function J(){var e,a,u,l;return e=n,b(),(a=$r())!==r?(b(),(u=Er())===r&&(u=null),b(),c.charCodeAt(n)===41?(l=P,n++):(l=r,i===0&&s(qe)),l!==r?(b(),h=e,e=Ze(a,u)):(n=e,e=r)):(n=e,e=r),e}function Er(){var e,a,u,l,y,m,$,G;if(e=n,(a=K())!==r){for(u=[],l=n,y=b(),c.charCodeAt(n)===44?(m=p,n++):(m=r,i===0&&s(se)),m===r&&(m=null),$=b(),(G=K())!==r?l=y=[y,m,$,G]:(n=l,l=r);l!==r;)u.push(l),l=n,y=b(),c.charCodeAt(n)===44?(m=p,n++):(m=r,i===0&&s(se)),m===r&&(m=null),$=b(),(G=K())!==r?l=y=[y,m,$,G]:(n=l,l=r);h=e,e=er(a,u)}else n=e,e=r;return e}function K(){var e,a;return e=n,(a=jr())===r&&(a=qr())===r&&(a=Or())===r&&(a=kr()),a!==r&&(h=e,a=rr(a)),(e=a)===r&&(e=n,(a=Sr())!==r&&(h=e,a=nr(a)),e=a),e}function b(){var e,a;for(i++,e=[],ue.test(c.charAt(n))?(a=c.charAt(n),n++):(a=r,i===0&&s(le));a!==r;)e.push(a),ue.test(c.charAt(n))?(a=c.charAt(n),n++):(a=r,i===0&&s(le));return i--,a=r,i===0&&s(Oe),e}function $r(){var e,a,u;return i++,e=n,(a=de())!==r?(c.charCodeAt(n)===40?(u=d,n++):(u=r,i===0&&s(Se)),u!==r?(h=e,e=tr(a)):(n=e,e=r)):(n=e,e=r),i--,e===r&&(a=r,i===0&&s(ke)),e}function de(){var e,a,u;if(i++,e=n,a=[],ce.test(c.charAt(n))?(u=c.charAt(n),n++):(u=r,i===0&&s(fe)),u!==r)for(;u!==r;)a.push(u),ce.test(c.charAt(n))?(u=c.charAt(n),n++):(u=r,i===0&&s(fe));else a=r;return a!==r&&(h=e,a=ar()),i--,(e=a)===r&&(a=r,i===0&&s(ze)),e}function jr(){var e,a,u;return i++,e=n,b(),(a=E())!==r?(c.charCodeAt(n)===37?(u=q,n++):(u=r,i===0&&s(Ie)),u!==r?(h=e,e=ur(a)):(n=e,e=r)):(n=e,e=r),i--,e===r&&i===0&&s(Re),e}function qr(){var e,a,u;return i++,e=n,b(),(a=E())!==r?(c.substr(n,2)===w?(u=w,n+=2):(u=r,i===0&&s(Pe)),u!==r?(h=e,e=cr(a)):(n=e,e=r)):(n=e,e=r),e===r&&(e=n,b(),(a=E())!==r?(c.substr(n,2)===W?(u=W,n+=2):(u=r,i===0&&s(Ne)),u!==r?(h=e,e=or(a)):(n=e,e=r)):(n=e,e=r),e===r&&(e=n,b(),(a=E())!==r?(c.substr(n,2)===X?(u=X,n+=2):(u=r,i===0&&s(Te)),u!==r?(h=e,e=ir(a)):(n=e,e=r)):(n=e,e=r),e===r&&(e=n,b(),(a=E())!==r?(c.substr(n,2)===Y?(u=Y,n+=2):(u=r,i===0&&s(Ue)),u!==r?(h=e,e=sr(a)):(n=e,e=r)):(n=e,e=r),e===r&&(e=n,b(),(a=E())!==r?(c.substr(n,2)===Z?(u=Z,n+=2):(u=r,i===0&&s(Be)),u!==r?(h=e,e=lr(a)):(n=e,e=r)):(n=e,e=r),e===r&&(e=n,b(),(a=E())!==r?(c.substr(n,2)===ee?(u=ee,n+=2):(u=r,i===0&&s(De)),u!==r?(h=e,e=fr(a)):(n=e,e=r)):(n=e,e=r)))))),i--,e===r&&i===0&&s(Me),e}function Or(){var e,a,u;return i++,e=n,(a=E())!==r?(c.substr(n,3)===re?(u=re,n+=3):(u=r,i===0&&s(He)),u!==r?(h=e,e=pr(a)):(n=e,e=r)):(n=e,e=r),e===r&&(e=n,(a=E())!==r?(c.substr(n,3)===ne?(u=ne,n+=3):(u=r,i===0&&s(_e)),u!==r?(h=e,e=hr(a)):(n=e,e=r)):(n=e,e=r),e===r&&(e=n,(a=E())!==r?(c.substr(n,4)===te?(u=te,n+=4):(u=r,i===0&&s(Je)),u!==r?(h=e,e=mr(a)):(n=e,e=r)):(n=e,e=r),e===r&&(e=n,(a=E())!==r?(c.substr(n,4)===ae?(u=ae,n+=4):(u=r,i===0&&s(Ke)),u!==r?(h=e,e=gr(a)):(n=e,e=r)):(n=e,e=r)))),i--,e===r&&(a=r,i===0&&s(Ge)),e}function kr(){var e,a;return i++,e=n,b(),(a=E())!==r?(h=e,e=vr(a)):(n=e,e=r),i--,e===r&&i===0&&s(Le),e}function Sr(){var e,a,u,l;if(i++,e=n,c.charCodeAt(n)===35?(a=Ce,n++):(a=r,i===0&&s(Ve)),a!==r){if(u=[],oe.test(c.charAt(n))?(l=c.charAt(n),n++):(l=r,i===0&&s(pe)),l!==r)for(;l!==r;)u.push(l),oe.test(c.charAt(n))?(l=c.charAt(n),n++):(l=r,i===0&&s(pe));else u=r;u!==r?(h=e,e=dr()):(n=e,e=r)}else n=e,e=r;return e===r&&(e=n,(a=J())!==r&&(h=e,a=yr(a)),(e=a)===r&&(e=n,(a=de())!==r&&(h=e,a=Ar()),e=a)),i--,e===r&&(a=r,i===0&&s(Qe)),e}function E(){var e,a,u,l,y,m,$;for(e=n,ie.test(c.charAt(n))?(c.charAt(n),n++):i===0&&s(he),a=n,u=[],z.test(c.charAt(n))?(l=c.charAt(n),n++):(l=r,i===0&&s(R));l!==r;)u.push(l),z.test(c.charAt(n))?(l=c.charAt(n),n++):(l=r,i===0&&s(R));if(c.charCodeAt(n)===46?(l=Fe,n++):(l=r,i===0&&s(We)),l!==r){if(y=[],z.test(c.charAt(n))?(m=c.charAt(n),n++):(m=r,i===0&&s(R)),m!==r)for(;m!==r;)y.push(m),z.test(c.charAt(n))?(m=c.charAt(n),n++):(m=r,i===0&&s(R));else y=r;y!==r?a=u=[u,l,y]:(n=a,a=r)}else n=a,a=r;if(a===r)if(a=[],z.test(c.charAt(n))?(u=c.charAt(n),n++):(u=r,i===0&&s(R)),u!==r)for(;u!==r;)a.push(u),z.test(c.charAt(n))?(u=c.charAt(n),n++):(u=r,i===0&&s(R));else a=r;if(a!==r){if(u=n,c.charCodeAt(n)===101?(l=Ee,n++):(l=r,i===0&&s(Xe)),l!==r){if(ie.test(c.charAt(n))?(y=c.charAt(n),n++):(y=r,i===0&&s(he)),y===r&&(y=null),m=[],z.test(c.charAt(n))?($=c.charAt(n),n++):($=r,i===0&&s(R)),$!==r)for(;$!==r;)m.push($),z.test(c.charAt(n))?($=c.charAt(n),n++):($=r,i===0&&s(R));else m=r;m!==r?u=l=[l,y,m]:(n=u,u=r)}else n=u,u=r;u===r&&(u=null),h=e,e=wr()}else n=e,e=r;return e}function zr(e,a){return e.map(function(u){return u[a]})}function Rr(e,a,u){return[e].concat(zr(a,u))}if((v=I())!==r&&n===c.length)return v;throw v!==r&&n<c.length&&s(xr()),br(_,k<c.length?c.charAt(k):null,k<c.length?ge(k,k+1):ge(k,k))}return t(o,Error),o.prototype.format=function(c){var g="Error: "+this.message;if(this.location){var v,r=null;for(v=0;v<c.length;v++)if(c[v].source===this.location.source){r=c[v].text.split(/\r\n|\n|\r/g);break}var A=this.location.start,j=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(A):A,I=this.location.source+":"+j.line+":"+j.column;if(r){var M=this.location.end,P=f("",j.line.toString().length," "),p=r[A.line-1],d=(A.line===M.line?M.column:p.length+1)-A.column||1;g+=`
 --> `+I+`
`+P+` |
`+j.line+" | "+p+`
`+P+" | "+f("",A.column-1," ")+f("",d,"^")}else g+=`
 at `+I}return g},o.buildMessage=function(c,g){var v={literal:function(p){return'"'+A(p.text)+'"'},class:function(p){var d=p.parts.map(function(q){return Array.isArray(q)?j(q[0])+"-"+j(q[1]):j(q)});return"["+(p.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(p){return p.description}};function r(p){return p.charCodeAt(0).toString(16).toUpperCase()}function A(p){return p.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+r(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+r(d)})}function j(p){return p.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+r(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+r(d)})}function I(p){return v[p.type](p)}function M(p){var d,q,w=p.map(I);if(w.sort(),w.length>0){for(d=1,q=1;d<w.length;d++)w[d-1]!==w[d]&&(w[q]=w[d],q++);w.length=q}switch(w.length){case 1:return w[0];case 2:return w[0]+" or "+w[1];default:return w.slice(0,-1).join(", ")+", or "+w[w.length-1]}}function P(p){return p?'"'+A(p)+'"':"end of input"}return"Expected "+M(c)+" but "+P(g)+" found."},{SyntaxError:o,parse:F}},(ye=xe).exports&&(ye.exports=Ae());var Kr=xe.exports;function pn(t){if(!t||t.length===0)return null;if(typeof t=="string"){const f=we(t);return f&&f.length!==0?f:null}const o=t.map(f=>{if(!Number.isFinite(f.scale)||f.scale<=0)throw new C("effect:invalid-scale","scale must be finite and greater than 0",{stop:f});return{scale:f.scale,effects:we(f.value)}});o.sort((f,F)=>F.effects.length-f.effects.length);for(let f=0;f<o.length-1;f++){if(!Ir(o[f].effects,o[f+1].effects))throw new C("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:o[f].effects,b:o[f+1].effects});Mr(o[f].effects,o[f+1].effects)}return o.sort((f,F)=>F.scale-f.scale),o}function we(t){let o;if(!t)return[];try{o=Kr.parse(t)}catch(f){throw new C("effect:invalid-syntax","Invalid effect syntax",{value:t,error:f})}return o.map(f=>Lr(f))}function Lr(t){try{switch(t.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return Qr(t);case"opacity":return Vr(t);case"hue-rotate":return Wr(t);case"blur":return Xr(t);case"drop-shadow":return Yr(t);case"bloom":return Zr(t)}}catch(o){throw o.details.filter=t,o}throw new C("effect:unknown-effect",`Effect '${t.name}' is not supported`,{effect:t})}function Qr(t){let o=1;return N(t.parameters,1),t.parameters.length===1&&(o=O(t.parameters[0])),new Pr(t.name,o)}function Vr(t){let o=1;return N(t.parameters,1),t.parameters.length===1&&(o=O(t.parameters[0])),new Nr(o)}function Wr(t){let o=0;return N(t.parameters,1),t.parameters.length===1&&(o=un(t.parameters[0])),new Tr(o)}function Xr(t){let o=0;return N(t.parameters,1),t.parameters.length===1&&(o=V(t.parameters[0]),U(o,t.parameters[0])),new Ur(o)}function Yr(t){const o=[];let f=null;for(const F of t.parameters)if(F.type==="color"){if(o.length&&Object.freeze(o),f)throw new C("effect:type-error","Accepts only one color",{});f=cn(F)}else{const c=V(F);if(Object.isFrozen(o))throw new C("effect:type-error","<length> parameters not consecutive",{lengths:o});o.push(c),o.length===3&&U(c,F)}if(o.length<2||o.length>3)throw new C("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${o.length}}`,{lengths:o});return new Br(o[0],o[1],o[2]||0,f||be("black"))}function Zr(t){let o=1,f=0,F=0;return N(t.parameters,3),t.parameters[0]&&(o=O(t.parameters[0])),t.parameters[1]&&(f=V(t.parameters[1]),U(f,t.parameters[1])),t.parameters[2]&&(F=O(t.parameters[2])),new Dr(o,f,F)}function N(t,o){if(t.length>o)throw new C("effect:type-error",`Function supports up to ${o} parameters, Actual: ${t.length}`,{parameters:t})}function H(t){if(t.type==="color")return"<color>";if(t.unit){if(t.unit in Q)return"<length>";if(t.unit in L)return"<angle>";if(t.unit==="%")return"<percentage>"}return"<double>"}function U(t,o){if(t<0)throw new C("effect:type-error",`Negative values are not allowed, Actual: ${t}`,{term:o})}function en(t){if(t.type!=="quantity"||t.unit!==null)throw new C("effect:type-error",`Expected <double>, Actual: ${H(t)}`,{term:t})}function rn(t){if(t.type!=="quantity"||t.unit!==null&&t.unit!=="%")throw new C("effect:type-error",`Expected <double> or <percentage>, Actual: ${H(t)}`,{term:t})}const L={deg:1,grad:.9,rad:180/Math.PI,turn:360};function nn(t){if(t.type!=="quantity"||!(t.value===0&&t.unit===null||t.unit&&L[t.unit]!=null))throw new C("effect:type-error",`Expected <angle>, Actual: ${H(t)}`,{term:t})}const Q={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function tn(t){if(t.type!=="quantity"||!(t.value===0&&t.unit===null||t.unit&&Q[t.unit]!=null))throw new C("effect:type-error",`Expected <length>, Actual: ${H(t)}`,{term:t})}function O(t){rn(t);const o=t.value;return U(o,t),t.unit==="%"?.01*o:o}function an(t){return en(t),U(t.value,t),t.value}function un(t){return nn(t),t.value*L[t.unit]||0}function V(t){return tn(t),t.value*Q[t.unit]||0}function cn(t){switch(t.colorType){case"hex":return Gr(t.value);case"named":return be(t.value);case"function":return ln(t.value)}}function be(t){if(!Hr(t))throw new C("effect:unknown-color",`color '${t}' isn't valid`,{namedColor:t});return _r(t)}const on=/^rgba?/i,sn=/^hsla?/i;function ln(t){if(N(t.parameters,4),on.test(t.name))return[O(t.parameters[0]),O(t.parameters[1]),O(t.parameters[2]),t.parameters[3]?O(t.parameters[3]):1];if(sn.test(t.name))return Jr(an(t.parameters[0]),O(t.parameters[1]),O(t.parameters[2]),t.parameters[3]?O(t.parameters[3]):1);throw new C("effect:syntax-error",`Invalid color function '${t.name}'`,{colorFunction:t})}export{pn as y};
