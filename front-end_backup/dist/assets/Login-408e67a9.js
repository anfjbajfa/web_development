import{_ as f,m as v,p as b,q as g,h,r as x,o as k,c as w,b as s,k as y,d as i,u as t,w as r,v as d,t as I,f as p,e as V,s as B,x as C,E as c,y as L,z as T,A as U,B as u,C as A}from"./index-939e7b86.js";const E={class:"container"},M={class:"login-box"},N={class:"form-group"},S={class:"input-container"},D={class:"icon"},F={class:"form-group"},q={class:"input-container"},z={class:"icon"},$={class:"button-container"},j=["disabled"],G={class:"register-text"},H={__name:"Login",setup(J){v(),b();let o=g({phone:"",password:""});const a=h(!1);function _(){if(!o.phone||!o.password){c({message:"输入不能为空",type:"error",showClose:!0,duration:3e3});return}a.value=!0,L(o.phone,o.password).then(n=>{T(n.token),console.log(n.userInfo),U(n.userInfo),c.success(`欢迎登录，${n.userInfo.phone}`),u.commit("setAdminStatus"),console.log(u.state.isAdmin),A.push("/")}).finally(()=>{a.value=!1})}return(n,e)=>{const m=x("router-link");return k(),w("div",E,[s("div",M,[e[7]||(e[7]=s("h2",{class:"title"},"欢迎登录",-1)),s("form",{onSubmit:y(_,["prevent"]),class:"form"},[s("div",N,[e[2]||(e[2]=s("label",{for:"phone",class:"label"},"电话",-1)),s("div",S,[s("div",D,[i(t(B),{class:"icon-image"})]),r(s("input",{id:"phone","onUpdate:modelValue":e[0]||(e[0]=l=>t(o).phone=l),type:"text",placeholder:"请输入11位手机号",class:"input"},null,512),[[d,t(o).phone]])])]),s("div",F,[e[3]||(e[3]=s("label",{for:"password",class:"label"},"密码",-1)),s("div",q,[s("div",z,[i(t(C),{class:"icon-image"})]),r(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=l=>t(o).password=l),type:"password",placeholder:"请输入密码",class:"input"},null,512),[[d,t(o).password]])])]),e[4]||(e[4]=s("div",{class:"checkbox-container"},[s("input",{id:"remember",type:"checkbox",class:"checkbox"}),s("label",{for:"remember",class:"checkbox-label"},"记住密码")],-1)),s("div",$,[s("button",{type:"submit",disabled:a.value,class:"button"},I(a.value?"正在登录...":"登录"),9,j)])],32),s("p",G,[e[6]||(e[6]=p(" 还没有账号？ ")),i(m,{to:"/login/register",class:"register-link"},{default:V(()=>e[5]||(e[5]=[p("注册")])),_:1})])])])}}},O=f(H,[["__scopeId","data-v-78841512"]]);export{O as default};
